
{% load static%}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="../../static/vancss/bootstrap.min.css">
        <link rel="stylesheet" href="../../static/vancss/fontAwesome.css">
        <link rel="stylesheet" href="../../static/vancss/hero-slider.css">
        <link rel="stylesheet" href="../../static/vancss/templatemo-main.css">
        <link rel="stylesheet" href="../../static/vancss/owl-carousel.css">

        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
        <style>
            .con {
    max-width: 1220px;
    padding: 0;
    padding: 20px 100px;
}
.navbar {
    position: fixed;
    z-index: 10000;
    width: 100%;
    padding: 30px 0;
    transition: all 0.3s ease;
}
.navbar.sticky {
    padding: 5px 0;
    background-color: rgba(0, 0, 0, 0.555);
}
.navbar .con {
    display: flex;
    justify-content: flex-start;
}
.navbar .menu-list {
    display: inline-flex;
    justify-content: flex-end;
    padding: 0 310px;
    align-items: center;
}
.navbar .logo {
    color: #fff;
    font-size: 30px;
    font-weight: 600;
    text-decoration: none;
}
.menu-list li {
    list-style-type: none;
    text-decoration: none;
    padding: 0 37px;
    width: 100%;
}
.menu-list li a {
    color: #fff;
    font-size: 25px;
    padding: 0 30px;
    font-weight: 500;
    text-decoration: none;
    text-decoration: none;
    transition: all 0.3s ease;
}
.menu-list li a:hover {
    color: rgba(7, 224, 214, 0.705);
}
.icon {
    color: #fff;
    font-size: 20px;
    cursor: pointer;
    display: none;
}
.icont.cancel-btn {
    position: absolute;
    right: 30px;
    top: 20px;
}
        </style>
        
        
    </head>
<!--
Vanilla Template
https://templatemo.com/tm-526-vanilla
-->
<body>

    <nav class="navbar">
        <div class="con">
        <div class="logo"><a href="{% url 'home'%}"><img src="{% static 'images/slogo.JPG'%}" alt="logo" style="width: 190px;"></a></div>
       <ul class="menu-list">
        <div class="icon cancel-btn">
            <i class="fas fa-times"></i>
        </div>
           <li><a href="{% url 'home'%}">Home</a></li>
           <li><a href="{% url 'aboutus' %}">About&nbsp;Us</a></li>
           <li><a href="{% url 'contacts' %}">Contact&nbsp;Us</a></li>
           <li><a href="{% url 'help'%}">Help</a></li>
           {% if user.is_authenticated %}
           <li style="color: rgb(3, 184, 184);">Hello <strong>{{user.first_name}}</strong></li>
           <li><a href="{% url 'logout' %}">Logout</a></li>
           {% else %}
           <li><a href="accounts/login/">Login</a></li>
           {%endif%}
       </ul>
       <div class="icon menu-btn">
           <i class="fas fa-bars"></i>
       </div>
       </div>
    </nav>

    <div class="fixed-side-navbar">
        <ul class="nav flex-column">
            <li class="nav-item"><a class="nav-link" href="#home"><span>Intro</span></a></li>
            <li class="nav-item"><a class="nav-link" href="#services"><span>upload file</span></a></li>
            <li class="nav-item"><a class="nav-link" href="#portfolio"><span>create events</span></a></li>
            <li class="nav-item"><a class="nav-link" href="#contact-us"><span>upload certificates</span></a></li>
            
        </ul>
    </div>

    <div class="parallax-content baner-content" id="home">
        <div class="container">
            <div class="first-content">
                <h1>upload system</h1>
                <span><em>fast-certify upload</em> images ,file and create event</span>
                <div class="primary-button">
                    <a href="#services">Discover More</a>
                </div>
            </div>
        </div>
    </div>


    <div class="service-content" id="services">
        <div class="container">
            <div class="upload-form">
                

                <form action="{%url 'uploading'%}" id="upload-form" method="POST" enctype="multipart/form-data" class="up">
                   {%csrf_token%}
                    <select name="events" id="">
                      {% for events in events%}
                         <option value="{{events.id}}">{{events.event_name}}</option>
          
                      {% endfor%}
                   </select>
                   <br>
                   <select name="year" id="">
                      {%for year in year%}
                      <option value="{{year}}">{{year}}</option>
                      {%endfor%}
                   </select>
                   <br>
                   <input type="file" name="file" id="file">
          
                   <br>
                   <div id="progress-box" class="not-visible">
                      <div class="progress">
                         <div class="progress-bar progress-bar-striped bg-danger progress-bar-animated" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                       </div>
                   </div>
                   <div id="cancel-box" class="not-visible mt-5 mb-3">
                      <button id="cancel-btn"class="btn btn-danger">cancel</button>
                   </div>
                   <input type="submit" value="submit" name="fi">
                </form>
                </div>
        </div>
    </div>

    
    <div class="parallax-content projects-content" id="portfolio">
        <div class="container">
            <form action="{%url 'uploading'%}" method="POST" class="reg">
                {%csrf_token%}
                {{register.as_p|safe}}
                <input type="submit" value="submit" name="su">
             </form>
        </div>
    </div>


    


    <div class="parallax-content contact-content" id="contact-us">
        <div class="container">
            <div class="row">
                <div class="mt-3">
                    <div id="img-box"></div>
                    <div id="alert-box"></div>
                    <form action="{% url 'uploading'%}" id="p-form">
                       {%csrf_token%}
                       {{photos|crispy}}
                       <input type="submit" class="btn btn-danger iubutton" name="photos" value="submit" >
                    </form>
        
                 </div>
                
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="primary-button">
                        <a href="#home">Back To Top</a>
                    </div>
                    <ul>
                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fa fa-google"></i></a></li>
                        <li><a href="#"><i class="fa fa-dribbble"></i></a></li>
                    </ul>
                    
                </div>
            </div>
        </div>
    </footer>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../static/vanjs/vendor/jquery-1.11.2.min.js"><\/script>')</script>
    <script src="../../static/vanjs/vendor/bootstrap.min.js"></script>
    <script src="../../static/vanjs/plugins.js"></script>
    <script src="../../static/vanjs/main.js"></script>
    
    <script>
        function openCity(cityName) {
            var i;
            var x = document.getElementsByClassName("city");
            for (i = 0; i < x.length; i++) {
               x[i].style.display = "none";  
            }
            document.getElementById(cityName).style.display = "block";  
        }
    </script>

<script>
    const alertbox = document.getElementById('alert-box')
     const imgBox = document.getElementById('img-box')
     const form = document.getElementById('p-form')
     const names = document.getElementById('id_name')
     const description = document.getElementById('id_description')
     var contri = document.getElementById('id_types')
     const image = document.getElementById('id_image')
     console.log(image)
     console.log(contri)
     const url = ""
     const csrf = document.getElementsByName('csrfmiddlewaretoken')
     const handleAlerts = (type,text) =>{
         alertbox.innerHTML = `<div class="alert alert-${type}" role="alert">
                                     ${text}
                              </div>`
     }

     image.addEventListener('change',()=>{
         const img_data = image.files[0]
         console.log(img_data)
         console.log(contri)
         const url = URL.createObjectURL(img_data)

         imgBox.innerHTML = `<img src="${url}" width="100%" height="100%">`

     })

     form.addEventListener('submit',e=>{
         e.preventDefault()
         spp = contri.value
         console.log(spp)
         const fd = new FormData()
         fd.append('csrfmiddlewaretoken',csrf[0].value)
         fd.append('name',names.value)
         fd.append('description',description.value)
         fd.append('image',image.files[0])
         fd.append('types',spp)

         $.ajax({
             type:'POST',
             url:url,
             enctype:'multipart/form-data',
             data:fd,
             success:function(response){
                 const sText = `successfully saved ${response.names}`
                 console.log(response)
                 handleAlerts('success',sText)
                 setTimeout(()=>{
                     alertbox.innerHTML=""
                     imgBox.innerHTML=""
                     names.value=""
                     description.value=""
                     image.value=""
                     types.value=""

                 },2000)
             },
             error:function(error){
                 handleAlerts('danger','something went wrong')
             },
             cache:false,
             contentType:false,
             processData:false,

         })

 })
</script>




    <script>
        $(document).ready(function(){
          // Add smooth scrolling to all links
          $(".fixed-side-navbar a, .primary-button a").on('click', function(event) {

            // Make sure this.hash has a value before overriding default behavior
            if (this.hash !== "") {
              // Prevent default anchor click behavior
              event.preventDefault();

              // Store hash
              var hash = this.hash;

              // Using jQuery's animate() method to add smooth page scroll
              // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
              $('html, body').animate({
                scrollTop: $(hash).offset().top
              }, 800, function(){
           
                // Add hash (#) to URL when done scrolling (default click behavior)
                window.location.hash = hash;
              });
            } // End if
          });
        });
    </script>
    <script>
        const body = document.querySelector("body")
        const navbar = document.querySelector(".navbar")
        const menu = document.querySelector(".menu-list");
        const menuBtn = document.querySelector(".menu-btn");
        const cancelBtn = document.querySelector(".cancel-btn");
        menuBtn.onclick = ()=>{
            menu.classList.add("active");
            menuBtn.classList.add("hide");
            body.classList.add("disabledscroll")
        }
        cancelBtn.onclick = ()=>{
            menu.classList.remove("active");
            menuBtn.classList.remove("hide");
            body.classList.remove("disabledscroll")
        }
        window.onscroll = ()=>{
            this.scrollY >20 ? navbar.classList.add("sticky"):navbar.classList.remove("sticky");
        }

    </script>


</body>
</html>